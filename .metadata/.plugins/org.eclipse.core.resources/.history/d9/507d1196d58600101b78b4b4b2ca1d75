<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.emp.mapper.EmpMapper">

<!-- 건수조회 -->
<select id="selectCount" resultType="Long">
	SELECT count(*)
	FROM   EMPLOYEES
</select>

<!-- 전체조회(페이징, 검색) -->
<select id="selectEmp" resultType="empVO">
	SELECT *
	FROM   (
	    SELECT ROWNUM RN, /*+INDEX_DESC (EMPLOYEES EMP_EMP_ID_PK)*/ E.*
	    FROM   EMPLOYEES E
	    WHERE  ROWNUM <![CDATA[ <=]]> 20
	    AND    FIRST_NAME LIKE '%Ki%'
	    AND    DEPARTMENT_ID = 50
	) B
	WHERE  RN > 0
</select>
	
<!-- 단건조회 -->
<select id="selectEmpById" resultType="empVO">
	SELECT EMPLOYEE_ID,
		   FIRST_NAME,
		   LAST_NAME,
		   EMAIL,
		   PHONE_NUMBER,
		   HIRE_DATE,
		   JOB_ID,
		   SALARY,
		   COMMISSION_PCT,
		   MANAGER_ID,
		   DEPARTMENT_ID
	  FROM EMPLOYEES
	 WHERE EMPLOYEE_ID = #{employeeId}
</select>

<!-- 등록 -->
<insert id="insertEmp">
	INSERT INTO EMPLOYEES (
			     EMPLOYEE_ID,
			     FIRST_NAME,
			     LAST_NAME,
			     EMAIL,
			     PHONE_NUMBER,
			     HIRE_DATE,
			     JOB_ID,
			     SALARY,
			     COMMISSION_PCT,
			     MANAGER_ID,
			     DEPARTMENT_ID
	)
	VALUES (
				#{employeeId},
				#{firstName},
				#{lastName},
				#{email},
				#{phoneNumber},
				#{hireDate},
				#{jobId},
				#{salary},
				#{commissionPct},
				#{managerId},
				#{departmentId}
	)
</insert>

</mapper>